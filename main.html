
<!-- Lokadok Common Header -->
<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<meta name="robots" content="noindex">

<link rel="apple-touch-icon" sizes="57x57" href="https://klinikmochil.lokadok.co.id/assets/images/favicon_oc/apple-icon-57x57.png?v=1547375418">
<link rel="apple-touch-icon" sizes="60x60" href="https://klinikmochil.lokadok.co.id/assets/images/favicon_oc/apple-icon-60x60.png?v=1547375418">
<link rel="apple-touch-icon" sizes="72x72" href="https://klinikmochil.lokadok.co.id/assets/images/favicon_oc/apple-icon-72x72.png?v=1547375418">
<link rel="apple-touch-icon" sizes="76x76" href="https://klinikmochil.lokadok.co.id/assets/images/favicon_oc/apple-icon-76x76.png?v=1547375418">
<link rel="apple-touch-icon" sizes="114x114" href="https://klinikmochil.lokadok.co.id/assets/images/favicon_oc/apple-icon-114x114.png?v=1547375418">
<link rel="apple-touch-icon" sizes="120x120" href="https://klinikmochil.lokadok.co.id/assets/images/favicon_oc/apple-icon-120x120.png?v=1547375418">
<link rel="apple-touch-icon" sizes="144x144" href="https://klinikmochil.lokadok.co.id/assets/images/favicon_oc/apple-icon-144x144.png?v=1547375418">
<link rel="apple-touch-icon" sizes="152x152" href="https://klinikmochil.lokadok.co.id/assets/images/favicon_oc/apple-icon-152x152.png?v=1547375419">
<link rel="apple-touch-icon" sizes="180x180" href="https://klinikmochil.lokadok.co.id/assets/images/favicon_oc/apple-icon-180x180.png?v=1547375418">
<link rel="icon" type="image/png" sizes="192x192" href="https://klinikmochil.lokadok.co.id/assets/images/favicon/android-icon-192x192.png?v=1486057371">
<link rel="icon" type="image/png" sizes="32x32" href="https://klinikmochil.lokadok.co.id/assets/images/favicon_oc/favicon-32x32.png?v=1547375419">
<link rel="icon" type="image/png" sizes="96x96" href="https://klinikmochil.lokadok.co.id/assets/images/favicon_oc/favicon-96x96.png?v=1547375419">
<link rel="icon" type="image/png" sizes="16x16" href="https://klinikmochil.lokadok.co.id/assets/images/favicon_oc/favicon-16x16.png?v=1547375419">
<title>OmniCare: Manajemen Klinik - Klinik Utama Mochil Cikupa - Lokadok</title>
<link rel="shortcut icon" href="https://klinikmochil.lokadok.co.id/favicon_oc.ico" type="image/x-icon" />

<link rel="stylesheet" href="https://klinikmochil.lokadok.co.id/assets/style/bootstrap/bootstrap.min.css?v=1586806331" type="text/css" media="screen" />
<link rel="stylesheet" href="https://klinikmochil.lokadok.co.id/assets/style/bootstrap/bootstrap-theme.min.css?v=1586806330" type="text/css" media="screen" />
<link rel="stylesheet" href="https://klinikmochil.lokadok.co.id/assets/style/font-awesome/css/font-awesome.min.css?v=1586806372" type="text/css" media="screen" />
<link rel="stylesheet" href="https://klinikmochil.lokadok.co.id/assets/style/custom/practice/practice_admin.css?v=1628531245" type="text/css" media="screen" />
<link rel="stylesheet" href="https://klinikmochil.lokadok.co.id/assets/style/common.css?v=1665543986" type="text/css" media="screen" />
<link rel="stylesheet" href="https://klinikmochil.lokadok.co.id/assets/style/common_share.css?v=1658497759" type="text/css" media="screen" />
<link rel="stylesheet" href="https://klinikmochil.lokadok.co.id/assets/style/fix_table.css?v=1621705114" type="text/css" media="screen" />
<link rel="stylesheet" href="https://klinikmochil.lokadok.co.id/assets/style/custom/header.css?v=1628531235" type="text/css" media="screen" />
<link rel="stylesheet" href="https://klinikmochil.lokadok.co.id/assets/style/custom/footer.css?v=1628531234" type="text/css" media="screen" />
<link rel="stylesheet" href="https://klinikmochil.lokadok.co.id/assets/style/bootstrap/bootstrap-dialog.css?v=1586806329" type="text/css" media="screen" />
<link rel="stylesheet" href="https://klinikmochil.lokadok.co.id/assets/style/vendor/jquery-ui.css?v=1586806426" type="text/css" media="screen" />
<link rel="stylesheet" href="https://klinikmochil.lokadok.co.id/assets/js/vendor/pnotify/pnotify.css?v=1587835377" type="text/css" media="screen" />
<link rel="stylesheet" href="https://klinikmochil.lokadok.co.id/assets/js/vendor/pnotify/pnotify.buttons.css?v=1587835376" type="text/css" media="screen" />
<script src="https://klinikmochil.lokadok.co.id/assets/js/vendor/jquery.min.js?v=1587835373" type="text/javascript" charset="utf-8"></script>
<script src="https://klinikmochil.lokadok.co.id/assets/js/vendor/jquery-ui.min.js?v=1587835375" type="text/javascript" charset="utf-8"></script>
<script src="https://klinikmochil.lokadok.co.id/assets/js/vendor/pnotify/pnotify.js?v=1587835378" type="text/javascript" charset="utf-8"></script>
<script src="https://klinikmochil.lokadok.co.id/assets/js/vendor/pnotify/pnotify.buttons.js?v=1587835376" type="text/javascript" charset="utf-8"></script>
<script src="https://klinikmochil.lokadok.co.id/practice/main_js?v=202308061413" type="text/javascript" charset="utf-8"></script>
<script src="https://klinikmochil.lokadok.co.id/assets/js/vendor/jquery.simple.websocket.js?v=1671346028" type="text/javascript" charset="utf-8"></script>
<style type="text/css">
html, body {
    height: 100%;
}
.navbar-default {
	border-color: #00abdc !important;	
}
@media ( min-width : 991px) {
	.logged-in-practice, .dropdown-menu>.active>a, .dropdown-menu>.active>a:focus, .dropdown-menu>.active>a:hover {
		background-color: #00abdc !important;
	}
}
body {
	background-color: #def3f3;
}
.green_heading {
	background: #003f66 !important;
}
.green_sub_heading {
	background: #003f66 !important;
}
.green_title_text {
	color: #73879C !important;
}
.green_neo_title_text {
	color: #73879C !important;
}
.green_sub_title_text {
	color: #73879C !important;
}
.green_large_info_text {
	color: #73879C !important;
}
.green_info_text {
	color: #73879C !important;
}
.green_mid_text {
	color: #73879C !important;
}
.green_text {
	color: #73879C !important;
}
.green_normal_text {
	color: #73879C !important;
}
.practice_row_title {
	color: #73879C !important;
}
.control {
	color: #00abdc !important;
}
.main_content {
	background-color: rgba(222, 243, 243, 0.7) !important;
}

</style>
<link rel="stylesheet" href="https://klinikmochil.lokadok.co.id/assets/style/bootstrap/bootstrap-datetimepicker.css?v=1594551339" type="text/css" media="screen" />
<link rel="stylesheet" href="https://klinikmochil.lokadok.co.id/assets/style/timepicker/jquery.timepicker.css?v=1586806425" type="text/css" media="screen" />
<link rel="stylesheet" href="https://klinikmochil.lokadok.co.id/assets/style/custom/rich_autocomplete.css?v=1628531238" type="text/css" media="screen" />
<link rel="stylesheet" href="https://klinikmochil.lokadok.co.id/assets/style/custom/practice/practice_calendar.css?v=1628531246" type="text/css" media="screen" />
<link rel="stylesheet" href="https://klinikmochil.lokadok.co.id/assets/style/custom/practice/common_practice.css?v=1673148646" type="text/css" media="screen" />
<link rel="stylesheet" href="https://klinikmochil.lokadok.co.id/assets/style/custom/schedule.css?v=1648121697" type="text/css" media="screen" />
<link rel="stylesheet" href="https://klinikmochil.lokadok.co.id/assets/style/custom/practice/schedule.css?v=1628531248" type="text/css" media="screen" />
<link rel="stylesheet" href="https://klinikmochil.lokadok.co.id/assets/style/cssflow/date-picker.css?v=1594755706" type="text/css" media="screen" />
<link rel="stylesheet" href="https://klinikmochil.lokadok.co.id/assets/style/cssflow/task-list.css?v=1594755708" type="text/css" media="screen" />
<link rel="stylesheet" href="https://klinikmochil.lokadok.co.id/assets/style/cssflow/toggle-switch.css?v=1594755707" type="text/css" media="screen" />
<link rel="stylesheet" href="https://klinikmochil.lokadok.co.id/assets/style/cssflow/dark-navigation.css?v=1594755705" type="text/css" media="screen" />
<link rel="stylesheet" href="https://klinikmochil.lokadok.co.id/assets/style/powertour/animate.min.css?v=1586806422" type="text/css" media="screen" />
<link rel="stylesheet" href="https://klinikmochil.lokadok.co.id/assets/style/chosen.css?v=1591815566" type="text/css" media="screen" />
<link id="arrowchat_css" rel="stylesheet" href="https://klinikmochil.lokadok.co.id/assets/arrowchat/external.php?type=css&v=202308061413" type="text/css" media="screen" />

<script>
  !function(f,b,e,v,n,t,s)
  {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
  n.callMethod.apply(n,arguments):n.queue.push(arguments)};
  if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
  n.queue=[];t=b.createElement(e);t.async=!0;
  t.src=v;s=b.getElementsByTagName(e)[0];
  s.parentNode.insertBefore(t,s)}(window, document,'script',
  'https://connect.facebook.net/en_US/fbevents.js');
  fbq('init', '1876238436038083');
  fbq('track', 'PageView');
</script>
<noscript><img height="1" width="1" style="display:none"
  src="https://www.facebook.com/tr?id=1876238436038083&ev=PageView&noscript=1"
/></noscript>


<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/id_ID/sdk.js#xfbml=1&version=v2.7";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
<link href="//fonts.googleapis.com/css?family=Hind+Madurai:400,500,600,300,400italic,700" rel="stylesheet" type="text/css">
</head>
<body style="overflow-x: hidden">
<nav id="nav-top" class="navbar gradient compact navbar-default navbar-fixed-top">
<div class="container-fluid">
<div id="xs_top_menu" class="dropdown logged-in-practice" style="position: absolute; top: 10px; right: -30px;">
<a type="button" class="navbar-toggle collapsed" data-toggle="dropdown" href="#">
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
</a>
</div>
<div class="navbar-header col-lg-6 col-md-5 col-sm-5 col-xs-4 no_padding" style="margin-top: 1px;">
<img class="app_logo" src="https://klinikmochil.lokadok.co.id/assets/images/oc_logo_sm.png?v=1547375331" alt>
<img class="oc_word_logo app_logo hidden-xs hidden-sm" src="https://klinikmochil.lokadok.co.id/assets/images/omnicare_logo_text.png?v=1547375174" alt>
<span class="title_branch hidden-xs hidden-sm">Klinik Utama Mochil Cikupa</span>
</div>
<div class="col-md-3 col-sm-3 col-xs-4 no_padding hidden-sm hidden-xs center">
<span class="green_title_text grey_shadow_text"></span>
</div>
<div class="collapse navbar-collapse navbar-right right col-md-4 col-sm-4 col-xs-4 no_padding hidden-sm hidden-xs" id="mainNavbar">
<div class="row" style="padding-top:3px">
<ul class="nav navbar-nav">
<li class="dropdown" style="margin-right: 10px">
<a class="dropdown-toggle" data-toggle="dropdown" href="#">Indonesia<span class="caret"></span></a>
<ul class="dropdown-menu">
<li><a><i class="fa fa-check-square-o fa-md"></i> &nbsp;&nbsp;Indonesia</a></li>
<li><a href="https://klinikmochil.lokadok.co.id/lokadok/change_lang/english"><i class="fa fa-square-o fa-md"></i> &nbsp;&nbsp;English</a></li>
</ul>
</li>
<li class="dropdown logged-in-practice">
<a class="dropdown-toggle" data-toggle="dropdown" href="#">
<span><i class="fa fa-user-circle"></i> Halo, retnodwigunarni</span> <span class="caret"></span>
</a>
<ul id="top_menu" class="dropdown-menu" style="overflow-y: auto; max-height: 600px;">
<li><a tabindex="0" href="https://klinikmochil.lokadok.co.id/practice/home" class="clickable"><i class="fa fa-home"></i> &nbsp;&nbsp; <span>Beranda</span></a></li>
<li><a tabindex="3" id="edit_password" class="clickable"><i class="fa fa-key fa-md"></i> &nbsp;&nbsp; <span>Ubah Kata Sandi</span></a></li>
<li><a tabindex="4" id="user_config" class="clickable"><i class="fa fa-sliders fa-md"></i> &nbsp;&nbsp; <span>Ubah Preferensi</span></a></li>
<li><a tabindex="5" id="check_screen" class="clickable"><i class="fa fa-tablet"></i> &nbsp;&nbsp; <span>Cek Ukuran Layar</span></a></li>
<li class="divider"></li>
<li><a tabindex="6" href="https://klinikmochil.lokadok.co.id/practice/logout/"><i class="fa fa-sign-out fa-md"></i> &nbsp;&nbsp; <span>Logout</span></a></li>
<li class="divider"></li> <li class="active"><a tabindex="7" class="clickable"><i class="fa fa-hospital-o"></i> &nbsp;&nbsp; <span>Klinik Utama Mochil Cikupa<span class="hidden-sm hidden-xs">, Bojong</span></span></a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>
</nav>
<input type="hidden" id="base_url" value="https://klinikmochil.lokadok.co.id/"><input type="hidden" id="environment" value="production"><input type="hidden" id="js_show_log" value="0"><input type="hidden" id="asset_url" value="https://klinikmochil.lokadok.co.id/assets/"><input type="hidden" id="server" value="omnicare11"><input type="hidden" id="prc_base_url" value="https://klinikmochil.lokadok.co.id/practice/"><input type="hidden" id="prc_type" value="1"><input id="prc_decimal" type="hidden" value="0" /><input id="prc_parent" type="hidden" value="30373" /><input id="prc_open_new_tab" type="hidden" value="1" /><script>
$(function () {
	if ($('body').width() < MD_WIDTH  && true) {
		window.location.href = 'https://klinikmochil.lokadok.co.id/practice/dashboard/30373?mobile=1';
	} else if ($('body').width() > MD_WIDTH && false) {
		window.location.href = 'https://klinikmochil.lokadok.co.id/practice/omnicare/30373?desktop=1';
	}
});
</script><div class="main_content">
<div class="container container-wide">
<div class="alert_panel item-hidden">
<div class="alert_header">
<span><i class="fa fa-bell-o"></i> Notifikasi Terbaru</span>
</div>
<div class="alert_clear_all"><a class="clickable clear_alert"><i class="fa fa-trash-o"></i> Bersihkan Notifikasi</a>
</div>
<div class="alert_list">
</div>
</div>
<div class="main_panel">
<div class="row menu_row">
<div class="col-lg-2 col-md-1 col-sm-2 col-xs-2 no_padding">
<i id="task_list" data-toggle="task_list" class="control fa fa-bars" style="margin-right: 20px" title="Daftar Notifikasi"></i><span id="new_alert" class="new item-hidden"></span>
</div>
<div class="col-lg-10 col-md-11 col-sm-10 col-xs-10 no_padding right">
<img style="position: absolute; top: 3px; left: -10%;" class="app_logo hidden-lg hidden-md" src="https://klinikmochil.lokadok.co.id/assets/images/omnicare_logo_new.png?v=1547375175" alt>
<span id="xs_menu" class="pull-right" data-toggle="popover"><i class="control fa fa-ellipsis-h hidden-lg hidden-md" data-toggle="popover"></i></span>
<ul id="lg_menu" class="all_menu hidden-xs hidden-sm">
</ul>
</div>
</div><style>
<!--
div.container-fluid {
	max-width: 100%;
}
-->
</style>
<div id="row_navi" class="row">
<nav id="main_nav" class="dark blue" style="overflow: hidden;">
<ul id="nav-tabs" style="margin-bottom: 0px;">
<li class="active"><a href="#dashboard" data-toggle="tab"><i class="fa fa-tachometer"></i> <span class="hidden-xs hidden-sm">Dasbor</span></a></li>
<li class style="display: none;"><a href="#calendar" data-toggle="tab"><i class="fa fa-calendar"></i> <span class="hidden-xs hidden-sm">Kalender</span></a><i class="hide_tab fa fa-times"></i></li>
</ul>
</nav>
<span class="navi">
<i class="fa fa-caret-left pull-left"></i>
<i class="fa fa-caret-right pull-right"></i>
</span>
</div>
<div class="tab-content">
<div id="dashboard" class="in active tab-pane col-md-12 no_padding">
<iframe id="dashboardFrame" name="dashboardFrame" style="overflow-y: auto" src="https://klinikmochil.lokadok.co.id/practice/dashboard/30373" width="100%" height="565px" scrolling="no" seamless="seamless" frameBorder="0"></iframe>
</div>
<div id="calendar" class="tab-pane col-md-12 no_padding">
<script>
var firstTaskList = false;
var M_currentDid = 0;
var slotsTab = false;
$(document).ready(function() {
	G_usingSamsungTab = false;
		
		
		//M_currModule = PRC_CAL;
		M_currModule = PRC_DASHBOARD;
	M_preventRefresh = true; // prevent main calendar from refresh
	M_ppId = 30373;
	getWebsocketTokenForTrx(M_ppId);
	allowChart = true;
	allowBilling = true;
		
	
	setupCloseTab();

	G_intervalWorker = setInterval(function() {
		if (!webSocketTrx.isConnected()) {
			if ($('body').is(':visible')) {
				refreshBookingList();
				getNewModuleEvents(M_ppId);
			} else M_holdUp = true;
		}
	}, G_intervalRequest); // every 5 mins
		
	setTimeout(function() {
		getNewModuleEvents(M_ppId);
	}, G_delayRequest);

	if (M_version == undefined || M_version < 20210210) {
        BootstrapDialog.show({
        	type: BootstrapDialog.TYPE_SUCCESS,
            title: '<span class="dialog_label"><i class="fa fa-exclamation-triangle"></i> Pembaharuan Aplikasi</span>',
		    message: '<div style="font-size: 15px">Kami baru saja melakukan pembaharuan terhadap aplikasi, namun sepertinya versi Anda belum yang terbaru. Silahkan tekan tombol <strong>Ctrl + F5</strong> bersamaan atau tekan tombol <strong>Reload</strong> pada browser Anda untuk mendapatkan penyempurnaan terakhir.</div>',
		    cssClass: 'msg-modal',
		    closable: false,
        });				    	
	}

	setInterval(function() {
		checkPracticeSession(M_ppId);
	}, G_intervalWsocket);
});

function actionOnHoldUp() {
	if (M_holdUp && !webSocketTrx.isConnected()) {
		refreshBookingList();
		getNewModuleEvents(M_ppId);
	}
}

var webSocketTrx = $.simpleWebSocket({ url: 'wss://websocket1.lokadok.co.id:3445/?pp_id=30373' });

setInterval(() => {
	checkWsocketConnection(webSocketTrx);
}, G_intervalWsocket);

webSocketTrx.listen(function(message) {
	if (G_intervalLastCall > 0 && G_intervalLastCall >= (new Date()).getTime() - G_intervalWsocket) {
		return false;
	}
	G_intervalLastCall = (new Date()).getTime();
	
	var realMsg = base64Decode(message.text);
    printLog('listen '+realMsg);
    var msgTokens = realMsg.split("|");
    //alert(msgTokens[0] + " =" + G_webSocketTokenTrx + ";" + msgTokens[1]+ " = " + M_ppId);
    if (msgTokens[0] == G_webSocketTokenTrx && msgTokens[1] == M_ppId) {
        if (msgTokens[2] == WS_CATEGORY_TRX || msgTokens[2] == WS_CATEGORY_POLY || msgTokens[2] == WS_CATEGORY_PHARM || msgTokens[2] == WS_CATEGORY_LAB || msgTokens[2] == WS_CATEGORY_RAD || msgTokens[2] == WS_CATEGORY_VOUCHER) {
        	getNewModuleEvents(M_ppId, 'PRC_SALES', PRC_DASHBOARD);
        } else if (msgTokens[2] == WS_CATEGORY_INVENTORY) {
        	getNewModuleEvents(M_ppId, 'PRC_INVENTORY', PRC_DASHBOARD);
        } else if (msgTokens[2] == WS_CATEGORY_PURCHASING) {
        	getNewModuleEvents(M_ppId, 'PRC_PURCHASE', PRC_DASHBOARD);
        }
    }  
    
});
</script> <div class="cal_top_panel row">
<div class="col-lg-12 col-md-12 no_padding">
<div id="div_resource_view" class="form-inline pull-left hidden-xs">
<div class="col-lg-2 col-md-2 col-sm-2 col-xs-0 hidden-xs no_pad_l omni-height right">
<i class="fa fa-folder-open" aria-hidden="true"></i>
</div>
<div class="col-lg-10 col-md-10 col-sm-10 col-xs-12 no_padding">
<select class="form-control lkd_form select_wrapper" id="resource_view">
<option value="D">Tenaga Medis</option>
<option value="R">Ruangan</option>
</select>
</div>
</div>
<div class="form-inline pull-left hidden-xs" style="margin-left: 10px;">
<i class="fa fa-stethoscope" aria-hidden="true"></i> &nbsp;
<select class="form-control lkd_form chosen-select" id="poly_filter" style="min-width: 200px">
<option value="#">Semua Poliklinik</option>
<option value="204">Anak</option>
<option value="235">Gizi</option>
<option value="262">Kebidanan & Kandungan</option>
<option value="270">Patologi Klinik</option>
</select>
</div>
<div class="form-inline pull-left hidden-xs" style="margin-left: 10px;display: none;">
<i class="fa fa-filter" aria-hidden="true"></i> &nbsp;
<select class="form-control lkd_form chosen-select" id="tmpl_res_filter" style="min-width: 200px">
<option value="#">Semua Kategori Ruangan</option>
</select>
</div>
<div id="div_doc_filter" class="form-inline pull-left">
<div class="col-lg-2 col-md-2 col-sm-2 col-xs-0 hidden-xs no_pad_l omni-height right">
<i class="fa fa-user-md" aria-hidden="true"></i>
</div>
<div class="col-lg-10 col-md-10 col-sm-10 col-xs-12 no_pad_l">
<div style="max-width: 200px">
<select class="form-control lkd_form chosen-select" id="find_doctor" style="width: 95%">
<option value="#">Semua Tenaga Medis</option>
</select>
</div>
</div>
</div>
<div id="div_res_filter" class="form-inline pull-left" style="display: none;">
<div class="col-lg-2 col-md-2 col-sm-2 col-xs-0 hidden-xs no_pad_l omni-height right">
<i class="fa fa-lg fa-sign-in" aria-hidden="true"></i>
</div>
<div class="col-lg-10 col-md-10 col-sm-10 col-xs-12 no_pad_l">
<div style="width: 200px">
<select class="form-control select_wrapper lkd_form chosen-select" name="find_resource" id="find_resource" data-tag="Ruangan">
<option value="0">Semua Ruangan</option>
</select>
</div>
</div>
</div>
<div class="hidden-lg pull-right">
<i id="xs_show_minical" class="control glyphicon glyphicon-calendar" title="Lihat Kalender" style="line-height: 30px; height: 30px; margin-left: 10px;"></i>
</div>
<div class="pull-right" style="margin-left: -10px">
<i id="print_cal" class="control fa fa-print" title="Cetak Kalender" style="line-height: 30px; height: 30px;"></i>
</div>
<div class="switch switch-blue pull-right hidden-sm hidden-xs" style="margin-right: 20px">
<input type="radio" class="switch-input" name="view" value="day" id="day">
<label for="day" class="switch-label switch-label-off">Harian</label>
<input type="radio" class="switch-input" name="view" value="week" id="week">
<label for="week" class="switch-label switch-label-on">Mingguan</label>
<span class="switch-selection"></span>
</div>
<div class="pull-right hidden-md hidden-sm hidden-xs" style="max-width: 280px; margin-right: 10px;">
<div class="input-group margin-bottom-sm">
<input id="search_field_cal" class="form-control" data-trigger="manual" type="text" value placeholder="kode booking / RM / nama pasien">
<span id="search_btn" class="input-group-addon btn-warning clickable" style="color:#FFF"> <i class="fa fa-search"></i></span>
</div>
</div>
</div>
</div>
<div id="main_area" class="row practice_calendar" style="position: relative; padding-bottom: 50px">
<div id="panel_calendar" class="schedule-panel no_padding" style="position: relative; clear: both;">
<div class="navi-date-heading col-lg-12 col-md-12 center" style="z-index: 101">
<span id="prev_doctor" class="navi-date-title" style="float: left"><i class="fa fa-2x fa-caret-left"></i></span>
<span class="navi-date-title"> &nbsp;<span id="selected_date"></span> &nbsp;<span id="refresh_cal"><i class="fa fa-refresh fa-lg"></i></span> <span class="fixed_doc_name"> &nbsp;</span></span>
<span id="next_doctor" class="navi-date-title pull-right"><i class="fa fa-2x fa-caret-right"></i></span>
<div class="pull-right" style="margin-right: 15px; padding-top: 2px;">
<input id="book_only" type="checkbox" /> &nbsp; <label for="book_only" class="for_cbox"><i class="fa fa-book" title="Hanya Jadwal Aktif"></i> <span class="medium_txt hidden-sm hidden-xs">JADWAL AKTIF</span></label>
</div>
<div class="pull-right hidden-xs" style="margin-right: 15px; padding-top: 2px;">
<input id="duty_only" type="checkbox" checked /> &nbsp; <label for="duty_only" class="for_cbox"><i class="fa fa-user-md" title="Hanya Tenaga Medis Tugas"></i> <span class="medium_txt hidden-sm hidden-xs">ON DUTY</span></label>
</div>
<div class="pull-right hidden-xs" style="margin-right: 15px; padding-top: 2px; display: none;">
<input id="is_filled" type="checkbox" /> &nbsp; <label for="is_filled" class="for_cbox"><span class="medium_txt hidden-sm hidden-xs">RUANGAN TERISI</span></label>
</div>
</div>
<div class="row_time" style="float: left;position: absolute; top: 40px; z-index: 100">
<table class="time_table" border="0" style="max-width: 90px;">
<thead>
<tr><td></td></tr>
</thead>
<tbody>
<tr class="time_row" data-row="7" data-time="0">
<td class="time"><div class="empty center">07:00</div></td>
</tr>
<tr class="time_row" data-row="8" data-time="3600000">
<td class="time"><div class="empty center">08:00</div></td>
</tr>
<tr class="time_row" data-row="9" data-time="7200000">
<td class="time"><div class="empty center">09:00</div></td>
</tr>
<tr class="time_row" data-row="10" data-time="10800000">
<td class="time"><div class="empty center">10:00</div></td>
</tr>
<tr class="time_row" data-row="11" data-time="14400000">
<td class="time"><div class="empty center">11:00</div></td>
</tr>
<tr class="time_row" data-row="12" data-time="18000000">
<td class="time"><div class="empty center">12:00</div></td>
</tr>
<tr class="time_row" data-row="13" data-time="21600000">
<td class="time"><div class="empty center">13:00</div></td>
</tr>
<tr class="time_row" data-row="14" data-time="25200000">
<td class="time"><div class="empty center">14:00</div></td>
</tr>
<tr class="time_row" data-row="15" data-time="28800000">
<td class="time"><div class="empty center">15:00</div></td>
</tr>
<tr class="time_row" data-row="16" data-time="32400000">
<td class="time"><div class="empty center">16:00</div></td>
</tr>
<tr class="time_row" data-row="17" data-time="36000000">
<td class="time"><div class="empty center">17:00</div></td>
</tr>
<tr class="time_row" data-row="18" data-time="39600000">
<td class="time"><div class="empty center">18:00</div></td>
</tr>
<tr class="time_row" data-row="19" data-time="43200000">
<td class="time"><div class="empty center">19:00</div></td>
</tr>
<tr class="time_row" data-row="20" data-time="46800000">
<td class="time"><div class="empty center">20:00</div></td>
</tr>
<tr class="time_row" data-row="21" data-time="50400000">
<td class="time"><div class="empty center">21:00</div></td>
</tr>
<tr class="time_row" data-row="22" data-time="54000000">
<td class="time"><div class="empty center">22:00</div></td>
</tr>
<tr class="time_row" data-row="23" data-time="57600000">
<td class="time"><div class="empty center">23:00</div></td>
</tr>
</tbody>
</table>
</div>
<div style="max-width: 990px; float: left">
<div class="doctor_parent">
</div>
<hr id="now_line">
</div>
</div>
<script>
var doneInitCal = false;

$(document).ready(function() {
	M_beginTime = 7;
	M_endTime = 24;	
	M_doubleBook = true;
	M_hoursToConfirm = 36;	
	M_currentCalendar = {"202308012":{"id":"202308012","event_name":null,"is_holiday":"0"},"202308023":{"id":"202308023","event_name":null,"is_holiday":"0"},"202308034":{"id":"202308034","event_name":null,"is_holiday":"0"},"202308045":{"id":"202308045","event_name":null,"is_holiday":"0"},"202308056":{"id":"202308056","event_name":null,"is_holiday":"0"},"202308060":{"id":"202308060","event_name":null,"is_holiday":"0"},"202308071":{"id":"202308071","event_name":null,"is_holiday":"0"},"202308082":{"id":"202308082","event_name":null,"is_holiday":"0"},"202308093":{"id":"202308093","event_name":null,"is_holiday":"0"},"202308104":{"id":"202308104","event_name":null,"is_holiday":"0"},"202308115":{"id":"202308115","event_name":null,"is_holiday":"0"},"202308126":{"id":"202308126","event_name":null,"is_holiday":"0"},"202308130":{"id":"202308130","event_name":null,"is_holiday":"0"},"202308141":{"id":"202308141","event_name":null,"is_holiday":"0"},"202308152":{"id":"202308152","event_name":null,"is_holiday":"0"},"202308163":{"id":"202308163","event_name":null,"is_holiday":"0"},"202308174":{"id":"202308174","event_name":"Kemerdekaan RI","is_holiday":"1"},"202308185":{"id":"202308185","event_name":null,"is_holiday":"0"},"202308196":{"id":"202308196","event_name":null,"is_holiday":"0"},"202308200":{"id":"202308200","event_name":null,"is_holiday":"0"},"202308211":{"id":"202308211","event_name":null,"is_holiday":"0"},"202308222":{"id":"202308222","event_name":null,"is_holiday":"0"},"202308233":{"id":"202308233","event_name":null,"is_holiday":"0"},"202308244":{"id":"202308244","event_name":null,"is_holiday":"0"},"202308255":{"id":"202308255","event_name":null,"is_holiday":"0"},"202308266":{"id":"202308266","event_name":null,"is_holiday":"0"},"202308270":{"id":"202308270","event_name":null,"is_holiday":"0"},"202308281":{"id":"202308281","event_name":null,"is_holiday":"0"},"202308292":{"id":"202308292","event_name":null,"is_holiday":"0"},"202308303":{"id":"202308303","event_name":null,"is_holiday":"0"},"202308314":{"id":"202308314","event_name":null,"is_holiday":"0"}};
	allowChart = true;
	allowBilling = true;	

	getWebsocketTokenForQueue(30373);
});
function setupCalendarModule() {
	if (doneInitCal) {
		$('div#calendar').show();
		fixChosenWidth();
		return false;
	}
	doneInitCal = true;
	columnNum = getDocColumns();
	DOC_NUM = getPracticeColumns();

	fixChosenWidth();
	initPracticeCalender();
	if ($('body').width() <= MD_WIDTH) {
		$( "#right_pane" ).hide();
		$( "#right_pane" ).addClass('box_shadow');		
	} else {
		$( "#right_pane" ).show();
		$('.schedule-panel').outerWidth($('#calendar').outerWidth() - $( "#right_pane" ).outerWidth() - 16);
	}
	if ($('body').width() <= SMD_WIDTH) {
		$('#week').prop("checked", true);
		M_viewMode = VIEW_WEEK;
		$('#find_doctor').find('option[value="#"]').remove();
		$('#find_doctor').val($('#find_doctor').find('option:first').val());
		$('#find_doctor').trigger("chosen:updated");
		
		$('.time_table').width(60);
		setTimeout(function() {
			getWeeklySchedulePeriod(202308082);
			// if day == saturday (end of week), then back for "skip" day
			// (the query will only return events up to the saturday,
			// as sunday, ect already consider next week
			if (("202308082").substring(8) == '6') {
				var skip = $('body').width() <= SM_WIDTH ? columnNum : 7;
				M_currentDid = getPrevStepDayCalId(202308082, skip - 1);
			}			
		}, 1000);
	} else {
		actionOnCalDayClick(M_alertCalId != null ? M_alertCalId : 202308082);
	}
	extraLeft = $('table.time_table').width();
	
	$('table.time_table thead tr').height($('select#resource_view').val() == 'R' ? timetableResH : timetableH);//$('table.doctor_table > thead > tr.doc_header').outerHeight() + $('table.doctor_table > thead > tr.duty_period').outerHeight());
	$('.doctor_parent').css('left', extraLeft + 'px');
	//$('.doctor_table').css('width', (($('.schedule-panel').outerWidth() - $('table.time_table').outerWidth()) / DOC_NUM) + 'px');
	$('.doctor_group').css('max-width', $('.schedule-panel').outerWidth() + 'px');
	dgWidth = $('.schedule-panel').outerWidth();
	slideWidth = $('.schedule-panel').outerWidth() - extraLeft - 1;
	
	tableWidth = ((($('.schedule-panel').outerWidth() - extraLeft) / DOC_NUM)) + 'px';//$('.doctor_table').outerWidth() + 'px';

	loadingPracticeData($('.doctor_parent'));

	getAllDoctorsForPplace();
	refreshBookingList();
		
	setTimeout(function() {
		$('#find_doctor_chosen').css('width', '100%');
	}, 500);	
}

function cancelAppointment(elem, patient, doctor, calId, rdpp, time, pid) {
	var sendSms = '<hr class="hr_std"><input type="checkbox" id="send_sms" value="1"> <label class="for_cbox" for="send_sms">Kirim SMS ke pasien</label>';
	var title = 'Pembatalan Perjanjian';
	var message = 'Batalkan perjanjian <strong>{patient}</strong> dengan <strong>{doctor}</strong> pada <br><strong>{date}</strong> jam <strong>{time}</strong>?';
	var dateStr = convertJtimestampToDateWithoutYear(getDateFromCalId(calId).getTime(), true, false, $('html').attr('lang'));
	var timeStr = adv_convertjtimestamp(time, getUserTimeZone(), true);
	message = message.replace('{patient}', patient);
	message = message.replace('{doctor}', doctor);
	message = message.replace('{date}', dateStr);
	message = message.replace('{time}', timeStr);
	message += '<hr class="hr_std"><p style="margin-top: 5px;">Apa alasannya pembatalan perjanjian ini?<br>' + 
		'<select id="reason_cancel">' +
		'<option value="916">Tidak ada waktu yg sesuai</option>' +
		'<option value="911">Membaik</option>' +
		'<option value="912">Keadaan Memburuk</option>' + 
		'<option value="913">Sakit</option>' +
		'<option value="914">Berpergian</option>' + 
		'<option value="915">Pekerjaan</option>' +
		'<option value="917">Lainnya</option>' + 
		'</select></p>' +
		'<input id="other_reason" class="other_reason item-hidden" placeholder="Alasan lainnya (max 200 huruf)" style="display:none;width: 70%;"></textarea>' +
		sendSms;
		
	//alert(getDateFromCalId(calId).getTime() + ';' + title + ';' + message);
	//alert(calId + ';' + rdpp + ';' + time);
	var dialog = new BootstrapDialog({
	    type: BootstrapDialog.TYPE_DANGER,
        title: '<span class="dialog_label"><i class="fa fa-exclamation-triangle"></i> ' + title + '</span>',
	    message: '<div style="font-size: 15px">' + message + '</div>',
	    cssClass: 'msg-modal',
	    buttons: [{
	        label: '<strong>' + ($('html').attr('lang') == LANG_EN ? 'Yes' : 'Ya') + '</strong>',
	        cssClass: 'btn-danger',
	        action: function(dialogItself){
	        	var sendSms = dialogItself.getModalBody().find('input#send_sms').is(':checked');
	        	elem.append('<i class="fa fa-spinner fa-circle-o-notch fa-spin" style="position: relative"></i>');

	        	var link = $('#base_url').attr('value') + "back_office_area/ajax_handler/set_confirmation_booking/";
	        	printLog(link);
		   		 $.ajax({
					 type: "POST",
					 url: link,
					 data: {cal_id: calId, rdpp: rdpp, time: time, patient: pid, status: 2, reason: dialogItself.getModalBody().find('select#reason_cancel').val(), reason_note: dialogItself.getModalBody().find('input#other_reason').val(), send_sms: sendSms ? 1 : 0},
				 	 error: function(request, error) {
				        BootstrapDialog.show({
				        	type: BootstrapDialog.TYPE_DANGER,
				            title: '<span class="dialog_label"><i class="fa fa-exclamation-triangle"></i> Mohon Maaf</span>',
				            message: 'Terjadi kegagalan saat melakukan update status booking.' + request.responseText,
				            cssClass: 'msg-modal'
				        });
						return;
					 },
					 success: function(result) {
						 printLog(result);
						 $('#refresh_cal').trigger('click');
					 }
				 });		        
	        	dialogItself.close();
	        }
	    }, {
	        label: $('html').attr('lang') == LANG_EN ? 'No' : 'Tidak',
	        action: function(dialogItself){
	            dialogItself.close();
	        }
	    }]
	});
	dialog.realize();
    dialog.open();
    setTimeout(function() {
    	initReasonNote();
    }, 500); 	
}

function confirmAppointment(elem, patient, doctor, calId, rdpp, time, pid, status) {
	status = status == undefined ? CONFIRM : status;
	
	var title = status == CONFIRM ? '<i class="fa fa-calendar-check-o"></i> Konfirmasi Perjanjian' : '<i class="fa fa-volume-control-phone"></i><i class="cross fa fa-times" style="margin-left: -5px"></i> Belum mendapat kabar dari Pasien?';
	var message = status == CONFIRM ? 'Konfirmasi perjanjian pasien <strong>{patient}</strong> dengan <strong>{doctor}</strong> pada tgl <strong>{date}</strong> jam <strong>{time}</strong>?' : 'Catat hasil follow up perjanjian antara pasien <strong>{patient}</strong> dengan <strong>{doctor}</strong> untuk jadwal pada tgl <strong>{date}</strong> jam <strong>{time}</strong>. Silahkan masukkan keterangan dibawah (jika ada)';
	var dateStr = convertJtimestampToDateWithoutYear(getDateFromCalId(calId).getTime(), true, false, $('html').attr('lang'));
	var timeStr = adv_convertjtimestamp(time, getUserTimeZone(), true);
	var selectChannel = '<select id="confirmed_by" class="form-control select_wrapper pull-right" style="width:38%">' +
							'<option value="">Pilih media follow up</option>' +
													'<option value="8">SMS</value>' +
													'<option value="12">Email</value>' +
													'<option value="13">WhatsApp</value>' +
													'<option value="9">Telepon / Manual</value>' +
												'</select>';
	message = message.replace('{patient}', patient);
	message = message.replace('{doctor}', 'dr. ' + doctor);
	message = message.replace('{date}', dateStr);
	message = message.replace('{time}', timeStr);

	var dialog = new BootstrapDialog({
	    type: status == CONFIRM ? BootstrapDialog.TYPE_SUCCESS : BootstrapDialog.TYPE_WARNING,
        title: '<span class="dialog_label"> ' + title + '</span>',
	    message: '<div style="font-size: 15px">' + message + 
				'<hr class="hr_std">' +
				'<p class="form-inline">' +
					'<span class="my_label pull-left">KETERANGAN</span><span class="my_label pull-right">JENIS MEDIA FOLLOW-UP</span><br>' + 
					'<input id="reason_note" type="text" class="form-control lkd_form" placeholder="Tambahkan keterangan tambahan / alasan jika ada" style="width:60%"/>' +
					selectChannel +
				'</p>' +
				'<div class="right"><span id="confirmed_by_err" class="error_msg"></span>' + 
	    		'</div>',
	    cssClass: 'msg-modal',
	    buttons: [{
	        label: '<strong>' + (status == CONFIRM ? ($('html').attr('lang') == LANG_EN ? 'Yes' : 'Ya') : ($('html').attr('lang') == LANG_EN ? '<span class="ucase">Update</span>' : '<span class="ucase">Perbaharui</span>')) + '</strong>',
	        cssClass: status == CONFIRM ? 'btn-success' : 'btn-warning',
	        action: function(dialogItself){
	        	var reasonNote = dialogItself.getModalBody().find('input#reason_note').val();
	        	var confirmedBy = dialogItself.getModalBody().find('select#confirmed_by').val();

	        	if (confirmedBy == '') {
	        		dialogItself.getModalBody().find('select#confirmed_by').addClass('error_box');
	        		dialogItself.getModalBody().find('span#confirmed_by_err').html('Jenis media wajib dipilih');
	        		initErrorCheckForInput();
		        	return false;
	        	}
	        	elem.append('<i class="fa fa-spinner fa-circle-o-notch fa-spin" style="position: relative"></i>');
		   		 $.ajax({
					 type: "POST",
					 url: $('#base_url').attr('value') + "back_office_area/ajax_handler/set_confirmation_booking/",
					 data: {cal_id: calId, rdpp: rdpp, time: time, patient: pid, reason_note: reasonNote, status: status, confirmed_by: confirmedBy},
				 	 error: function(request, error) {
				        BootstrapDialog.show({
				        	type: BootstrapDialog.TYPE_DANGER,
				            title: '<span class="dialog_label"><i class="fa fa-exclamation-triangle"></i> Mohon Maaf</span>',
				            message: 'Terjadi kegagalan saat melakukan update status booking.' + request.responseText,
				            cssClass: 'msg-modal'
				        });
						return;
					 },
					 success: function(result) {
						 printLog(result);
						 $('#refresh_cal').trigger('click');
					 }
				 });		        
	        	dialogItself.close();
	        }
	    }, {
	        label: (status == CONFIRM ? ($('html').attr('lang') == LANG_EN ? 'No' : 'Tidak') : ($('html').attr('lang') == LANG_EN ? 'Cancel' : 'Batal')),
	        action: function(dialogItself){
	            dialogItself.close();
	        }
	    }]
	});
	dialog.realize();
    dialog.open();
    setTimeout(function() {
    	initReasonNote();
    }, 500); 	
}

function initReasonNote() {
	$('#reason_cancel').change(function() {
		if ($(this).val() == 917)
			$('#other_reason').show();
		else $('#other_reason').hide();
	});
}

// PRINT CALENDAR
$('i#print_cal').click(function() {
	var d = new Date();
	var rcvId = $(this).data('rcv_id');
	var message ='<div class="row">' +
					'<div class="col-md-6 col-sm-6 col-xs-6 no_pad_l"><strong>Tgl. Awal</strong><br>' + 
						'<div class="form-group">' +
							'<div class="input-group date">' +
								'<input type="text" id="dstart" class="form-control lkd_form input_wrapper normal_text" placeholder="DD/MM/YYYY" value="' + convertJtimestampToShortDate(d.getTime()) + '" /> ' +
								'<span class="input-group-addon"> <span class="fa fa-calendar"></span> ' +
								'</span>' +
							'</div>' +
						'</div>' +
					'</div>' +			
			 		'<div class="col-md-6 col-sm-6 col-xs-6 no_pad_r"><strong>Tgl. Akhir</strong><br>' + 
						'<div class="form-group">' +
							'<div class="input-group date">' +
								'<input type="text" id="dend" class="form-control lkd_form input_wrapper normal_text" placeholder="DD/MM/YYYY" value="' + convertJtimestampToShortDate(d.getTime()) + '" /> ' +
								'<span class="input-group-addon"> <span class="fa fa-calendar"></span> ' +
								'</span>' +
							'</div>' +
						'</div>' +
					'</div>' +
					'<div><span id="period_err" class="error_msg"></div>' +
			 		'<div class="col-lg-2 col-md-2 col-sm-3 col-xs-3 no_padding"><strong>Urutan Tgl.</strong></div>' + 
			 		'<div class="col-lg-9 col-md-2 col-sm-9 col-xs-9 no_pad_r">' +
						'<input type="radio" id="cal_asc" class="for_radio" name="order_cal" value="4" checked> <label class="for_radio" for="cal_asc">Menaik</label> &nbsp;' +
						'<input type="radio" id="cal_desc" class="for_radio" name="order_cal" value="3"> <label class="for_radio" for="cal_desc">Menurun</label><br>' +
					'</div>' + 
				'</div>' + 
				'<div class="row">' +
					'<div class="col-md-6 col-sm-6 col-xs-6 no_pad_l"><strong>Dokter<span class="hidden-xs"> / Penyedia Jasa</span></strong><br>' + 
						'<select class="form-control lkd_form select_wrapper" id="provider_cal">' +
							$('select#find_doctor').html() +
						'</select>' +
					'</div>' +			
					'<div class="col-md-6 col-sm-6 col-xs-6 no_pad_r"><strong>Status Perjanjian</strong><br>' + 
						'<select class="form-control lkd_form select_wrapper" id="status_cal">' +
							'<option value="-1">Semua</option>' +
							'<option value="1" selected>Aktif Saja</option>' +
						'</select>' +
					'</div>' +
					'<hr class="hr_std">' +
					'<div class="col-md-12 col-sm-12 col-xs-12 left no_padding">' +
						'<span><strong>Pemilihan Cepat</strong></span><br>' +
						'<div class="col-md-6 col-sm-6 col-xs-6">' +
							'<ul class="quick_list" style="list-style: none;font-size: 12px;margin-top: 3px;margin-left: -15px;">' +
								'<li><a class="quick_item clickable" data-desc="Hari ini" data-period="1">Hari ini: 08-Aug-2023</a></li>' +
								'<li><a class="quick_item clickable" data-desc="Kemarin" data-period="-1">Kemarin: 07-Aug-2023</a></li>' +
								'<li><a class="quick_item clickable" data-desc="Seminggu Lalu" data-period="-7">Seminggu Lalu</a></li>' +
								'<li><a class="quick_item clickable" data-desc="30 Hari Lalu" data-period="-30">30 Hari Lalu</a></li>' +
							'</ul>' +
						'</div>' +
						'<div class="col-md-6 col-sm-6 col-xs-6">' +
							'<ul class="quick_list" style="list-style: none;font-size: 12px;margin-top: 3px;margin-left: -15px;">' +
								'<li><a class="quick_item clickable" data-desc="Bulan Ini" data-period="98">Bulan Ini: Agustus 2023</a></li>' +
								'<li><a class="quick_item clickable" data-desc="Bulan Lalu" data-period="99">Bulan Lalu: Juli 2023</a></li>' +
								'<li><a class="quick_item clickable" data-desc="s/d Bulan Depan" data-period="101">s/d Bulan Depan: September 2023</a></li>' +
								'<li><a class="quick_item clickable" data-desc="s/d 2 Bulan ke Depan" data-period="102">s/d 2 Bulan ke Depan: Oktober 2023</a></li>' +
							'</ul>' +
						'</div>' +
					'</div>' +
				'</div>' + 
			'</div>';
	
	var dialog = new BootstrapDialog({
	    type: BootstrapDialog.TYPE_INFO,
        title: '<span class="dialog_label"><i class="fa fa-print"></i> Cetak Jadwal Pertemuan</span>',
	    message: '<div style="font-size: 15px">' + message + '</div>',
	    cssClass: 'msg-modal',
	    buttons: [{
	        label: '<strong>PDF</strong>',
	        action: function(dialogItself){
	        	dialogItself.getModalFooter().find('button.btn-default:first').html('<i class="fa fa-spinner fa-spin"></i>');
	        	printCurrentPDF(dialogItself);
	        }
	    },{
	        label: '<strong>XLS</strong>',
	        action: function(dialogItself){
	        	dialogItself.getModalFooter().find('button.btn-default:last').html('<i class="fa fa-spinner fa-spin"></i>');
	        	printCurrentXLS(dialogItself);	        	
	        }
	    }, {
	        label: $('html').attr('lang') == LANG_EN ? 'Cancel' : 'Batal',
	        cssClass: 'btn-danger',
	        action: function(dialogItself){
	            dialogItself.close();
	        }
	    }]
	});
	dialog.realize();
    dialog.open();
    if ($('body').width() < MD_WIDTH) {
    	dialog.getModalBody().find('select#provider_cal').prepend('<option value="#">Semua Tenaga Medis</option>');
    	dialog.getModalBody().find('select#provider_cal').find('option:first').prop('selected', true);
    }
    
    dialog.getModalBody().find('div.date').datetimepicker( {
		format: 'DD/MM/YYYY',
		locale: $('html').attr('lang'),
	});
    dialog.getModalBody().find('.quick_item').click(function() {	
    	getPeriodParam($(this).data('period'));
	});	
	setTimeout(function() {
		dialog.getModalBody().find('input#batch_code').focus();
	}, 500);
});

function getExtraParam() {
	setPeriodPrint();
	
	var doctor = $('select#provider_cal').find('option:selected').val().split('--')[0];
	if (doctor == '#')
		doctor = -1;
	var status = $('select#status_cal').find('option:selected').val();
	var order = $('input[name="order_cal"]:checked').val();
	return '?start=' + M_sdate + '&end=' + M_edate + '&provider=' + doctor + '&status=' + status + '&order=' + order;
}

function printCurrentXLS(dialogItself) {
	var param = getExtraParam();
	if (!param) {
		dialogItself.getModalFooter().find('button.btn-default:first').html('<strong>XLS</strong>');
		return false;
	}
	
	var link = $('#base_url').attr('value') + "ajax_print/print_all_events/30373" + '/xls' + param;
	printLog(link);
	window.open(link, '_blank');
	dialogItself.close();
}

function printCurrentPDF(dialogItself) {
	var param = getExtraParam();
	if (!param) {
		dialogItself.getModalFooter().find('button.btn-default:first').html('<strong>PDF</strong>');
		return false;
	}
	var link = $('#base_url').attr('value') + "ajax_print/print_all_events/30373" + '/pdf' + param;
	printLog(link);
	$.ajax({
		 type: "POST",
		 url: link,
	 	 error: function(request, error) {
	 		 printLog(request);
	 		 alert('ERROR');
		 },
		 success: function(result) {
			 printLog(result);
			 if (isNaN(result))
				 window.open(result);
		 }, complete: function() {
			 dialogItself.close();
		 }
	});	
}

var webSocket = $.simpleWebSocket({ url: 'wss://websocket1.lokadok.co.id:3443/?pp_id=30373' });

setInterval(() => {
	checkWsocketConnection(webSocket);
}, G_intervalWsocket);

webSocket.listen(function(message) {

});
</script> <div id="right_pane" class="no_pad_r" style="display: none;">
<div id="right_info" style="display:inline; float: left">
<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 no_padding">
<div class="cal" style="margin-left: auto; margin-right: auto">
<table id="mini_calendar" class="cal-table">
<caption class="cal-caption">
<a id="prev_cal" class="prev change_month" data-year="2023" data-month="7">&laquo;</a>
<a id="next_cal" class="next change_month" data-year="2023" data-month="9">&raquo;</a>
<span id="month_title">Agustus 2023</span>
</caption>
<thead>
<tr>
<th>MIN</th>
<th>SEN</th>
<th>SEL</th>
<th>RAB</th>
<th>KAM</th>
<th>JUM</th>
<th>SAB</th>
</tr>
</thead>
<tbody class="cal-body">
<tr> <td class="cal-day cal-off"><a data-did="202307300">30</a></td>
<td class="cal-day cal-off"><a data-did="202307311">31</a></td>
<td class="cal-day oth-day"><a data-day="2" data-did="202308012">1</a></td>
<td class="cal-day oth-day"><a data-day="3" data-did="202308023">2</a></td>
<td class="cal-day oth-day"><a data-day="4" data-did="202308034">3</a></td>
<td class="cal-day oth-day"><a data-day="5" data-did="202308045">4</a></td>
<td class="cal-day oth-day"><a data-day="6" data-did="202308056">5</a></td>
</tr><tr> <td class="cal-day oth-day"><a data-day="0" data-did="202308060">6</a></td>
<td class="cal-day oth-day"><a data-day="1" data-did="202308071">7</a></td>
<td class="cal-day cal-today "><a data-day="2" data-did="202308082">8</a></td>
<td class="cal-day oth-day"><a data-day="3" data-did="202308093">9</a></td>
<td class="cal-day oth-day"><a data-day="4" data-did="202308104">10</a></td>
<td class="cal-day oth-day"><a data-day="5" data-did="202308115">11</a></td>
<td class="cal-day oth-day"><a data-day="6" data-did="202308126">12</a></td>
</tr><tr> <td class="cal-day oth-day"><a data-day="0" data-did="202308130">13</a></td>
<td class="cal-day oth-day"><a data-day="1" data-did="202308141">14</a></td>
<td class="cal-day oth-day"><a data-day="2" data-did="202308152">15</a></td>
<td class="cal-day oth-day"><a data-day="3" data-did="202308163">16</a></td>
<td class="cal-day oth-day"><a data-day="4" data-did="202308174">17</a></td>
<td class="cal-day oth-day"><a data-day="5" data-did="202308185">18</a></td>
<td class="cal-day oth-day"><a data-day="6" data-did="202308196">19</a></td>
</tr><tr> <td class="cal-day oth-day"><a data-day="0" data-did="202308200">20</a></td>
<td class="cal-day oth-day"><a data-day="1" data-did="202308211">21</a></td>
<td class="cal-day oth-day"><a data-day="2" data-did="202308222">22</a></td>
<td class="cal-day oth-day"><a data-day="3" data-did="202308233">23</a></td>
<td class="cal-day oth-day"><a data-day="4" data-did="202308244">24</a></td>
<td class="cal-day oth-day"><a data-day="5" data-did="202308255">25</a></td>
<td class="cal-day oth-day"><a data-day="6" data-did="202308266">26</a></td>
</tr><tr> <td class="cal-day oth-day"><a data-day="0" data-did="202308270">27</a></td>
<td class="cal-day oth-day"><a data-day="1" data-did="202308281">28</a></td>
<td class="cal-day oth-day"><a data-day="2" data-did="202308292">29</a></td>
<td class="cal-day oth-day"><a data-day="3" data-did="202308303">30</a></td>
<td class="cal-day oth-day"><a data-day="4" data-did="202308314">31</a></td>
<td class="cal-day cal-off"><a data-xx="0" data-did="202309015">1</a></td>
<td class="cal-day cal-off"><a data-xx="0" data-did="202309026">2</a></td>
</tr> </tbody>
</table>
</div>
</div>
<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 no_padding">
<section id="tasks" class="tasks">
<header class="tasks-header">
<h2 class="tasks-title">Jadwal Pertemuan</h2>
<a class="sch-lists"><i class="fa fa-lg fa-calendar-check-o" aria-hidden="true"></i></a>
</header>
<fieldset class="tasks-list">
<label class="sch-list-item center">
<span style="line-height: 40px; color: #AAA"><i>Data masih kosong</i></span>
</label>
</fieldset>
</section>
</div>
<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 no_padding hidden-sm hidden-xs">
<div class="schinfo left">
<span class="green_text">Daftar Tugas Hari ini</span>
<div class="schinfo-panel">
<ul class="on_duty" style="list-style: none;">
</ul>
</div>
<span class="green_text">Daftar Cuti Hari ini</span>
<div class="schinfo-panel">
<ul class="onleave_duty" style="list-style: none">
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript">
var defaultRange = 1;
var currDate = 1691492681000;
var M_oriStart = -1;
var M_start = -1;
var M_end = -1;
var M_status = '';
var M_name = '';
var extraParam = '';
var M_allTime = true;
$(document).ready(function() {
	if ($('tbody > tr').length > 25)
		$('div.main_page').css('width', '98.8%');
	setTimeout(function() {
		appendPeriodOption();
		setupDateTimePicker();
	}, 500);	
	
	$('td.user').each(function() {
		if ($(this).data('checkout') != undefined && $(this).data('checkout').length > 0)
			$(this).find('span').tooltip({title: $(this).data('checkout'), html: true, placement: 'bottom'});
	});	
});

function forceRefresh() {
	processSearch();
}

$('#search_field').keypress(function(event) {
  if (event.which == 13)
	  processSearch();
});
$('#search_btn').click(function() {
	processSearch();
});

$('select#filter_status, select#created_by').change(function() {
	processSearch();
});

function getUrl() {
	var pos = window.location.href.indexOf('?');
	return pos > 0 ? window.location.href.substring(0, pos) : window.location.href;	
}

function composeParam() {
	try {
		extraParam = getExtraParam();
	} catch(e) {}
	var status = $('select.filter_status:visible').length > 0 ? '&status=' + $('select.filter_status:visible').val() : '';
	var period = '';
	if (M_start != -1 && M_end != -1)
		period = '&start=' + M_start + '&end=' + M_end;
	else period = '&start=' + M_start + '&end=' + M_end;

	if (M_oriStart != -1) {
		period += '&ori_start=' + M_oriStart;
	}
	var pplaces = '';
	if ($('select#branch_list').length > 0) {
		pplaces = '&pplaces=' + ($('select#branch_list').find('option:selected').length > 0 ? $('select#branch_list').val() : -1);
	}
	var name = $('input#search_field').length > 0 && $('input#search_field').val() != '' ? '&name=' + encodeURI($('input#search_field').val()) : '';
	var srv = $('select#service_type').length > 0 ? '&service_type=' + $('select#service_type').val() : '';
	var token = '';
		
	var createdBy = $('select#created_by').length > 0 ? '&creator=' + $('select#created_by').val() : '';
	var text = $('#search_field').length > 0 && $('#search_field').val() != '' ? '&name=' + $('#search_field').val() : '';
	return '?var=1' + status + text + period + extraParam + createdBy + getRowLimit() + pplaces + name + srv + token;
}

function processSearch() {
	var href = getUrl() + composeParam();
	window.location.href = href;//.replace('?&', '?');
}
	
$('.show_period').click(function() {
	$('div#period_range').show();
	$('body').on('click', function (e) {
	    //did not click a popover toggle or popover
	    if ($(e.target).data('toggle') !== 'subfilter' && $(e.target).data('toggle') === undefined &&
	    	$(e.target).parents('#period_range').length === 0) { 
	    	$('div#period_range').hide();
	    }
	});
	try {
		callbackShowPeriod();
	} catch (e) {
		printLog(e);
	}
});

function appendPeriodOption() {
	$('.show_period').after(
		'<div id="period_range" class="row item-hidden">\n' + 
			'<div id="datepairPeriod" class="col-md-12 col-sm-12 col-xs-12 no_padding">\n' +
				'<div class="col-md-5 col-sm-5 col-xs-5 no_padding">\n' +
					'<div class="input-group date" id="datetimepickerS">\n' +
						'<input type="text" id="dstart" class="form-control input_wrapper normal_text" value="08/08/2023" />\n' +
						'<span class="input-group-addon"> <i class="fa fa-calendar"></i></span>\n' +
					'</div>\n' +
				'</div>\n' +
				'<div class="col-md-2 col-sm-2 col-xs-2 no_padding" style="line-height: 34px; height: 34px; text-align: center"><strong>s/d</strong></div>\n' +
				'<div class="col-md-5 col-sm-5 col-xs-5 no_padding">\n' +
					'<div class="input-group date" id="datetimepickerE">\n' +
						'<input type="text" id="dend" class="form-control input_wrapper normal_text" value="08/08/2023" />\n' +
						'<span class="input-group-addon"> <i class="fa fa-calendar"></i></span>\n' +
					'</div>\n' +
				'</div>\n' +			
			'</div>\n' +
			'<div class="col-md-12 col-sm-12 col-xs-12 no_padding left" style="margin-top: 10px; margin-bottom: 10px">\n' +
				'<span id="period_err" class="error_msg"></span><br>\n' + 
				'<button id="apply_btn" class="btn btn-sm btn-primary">TERAPKAN</button>\n' +
			'</div>\n' +
			'<hr class="hr_std">\n' +
			'<div class="col-md-12 col-sm-12 col-xs-12 left no_padding">\n' +
				'<span><strong>Pemilihan Cepat</strong></span><br>\n' +
				'<div class="col-md-6 col-sm-6 col-xs-6">\n' +
					'<ul class="quick_list">\n' +
						'<li><a class="quick_item clickable" data-desc="Hari ini" data-period="1">Hari ini: 08-Aug-2023</a></li>\n' +
						'<li><a class="quick_item clickable" data-desc="Kemarin" data-period="-1">Kemarin: 07-Aug-2023</a></li>\n' +
						'<li><a class="quick_item clickable" data-desc="Seminggu Lalu" data-period="-7">Seminggu Lalu</a></li>\n' +
						'<li><a class="quick_item clickable" data-desc="30 Hari Lalu" data-period="-30">30 Hari Lalu</a></li>\n' +
					'</ul>\n' +
				'</div>\n' +
				'<div class="col-md-6 col-sm-6 col-xs-6">\n' +
					'<ul class="quick_list">\n' +
						'<li><a class="quick_item clickable" data-desc="Bulan Ini" data-period="98">Bulan Ini: Agustus 2023</a></li>\n' +
						'<li><a class="quick_item clickable" data-desc="Bulan Lalu" data-period="99">Bulan Lalu: Juli 2023</a></li>\n' +
						(M_allTime ? '<li><a class="quick_item clickable" data-desc="Seluruhnya" data-period="100">Seluruhnya</a></li>\n' : '') +
					'</ul>\n' +
				'</div>\n' +
			'</div>\n' +			
		'</div>\n');

	var param = (M_status != '' ? 'status=' + M_status : '') + (M_name != '' ? '&name=' + M_name : ''); 
	$('.quick_item').click(function() {	
		if ($(this).data('period') == 1) {
			M_start = currDate;
			M_end = currDate;
			processSearch();
		} else {
			getPeriodParam($(this).data('period'));
			processSearch();
		}
		$('div#period_range').hide();
	});
	
	$('#apply_btn').click(function() {
		getPeriodParam();
		processSearch();
	});
}

function getPeriodParam(period) {
	var start = 0;
	var end = 0;
	if (period == undefined) {
		start = convertShortDateToTimestamp($('input#dstart').val(), '/');
		end = convertShortDateToTimestamp($('input#dend').val(), '/');
	} else {
		switch (period) {
			case -1:
				start = currDate - (1 * 24 * 60 * 60 * 1000);
				end = currDate - (1 * 24 * 60 * 60 * 1000);
				break;
			case -7:
				start = currDate - (7 * 24 * 60 * 60 * 1000);
				end = currDate;
				break;
			case -30:
				start = currDate - (30 * 24 * 60 * 60 * 1000);
				end = currDate;
				break;
			case 98:
				var date = new Date(currDate);
				start = (new Date(date.getFullYear(), date.getMonth(), 1)).getTime();
				end = currDate;		
				break;
			case 99:
				var date = new Date(currDate);
				start = (new Date(date.getFullYear(), date.getMonth() - 1, 1)).getTime();
				end = (new Date(date.getFullYear(), date.getMonth(), 1)).getTime() - (24 * 60 * 60 * 1000);	
				break;
			case 101:
				var date = new Date(currDate);
				start = date.getTime();
				end = (new Date(date.getFullYear(), date.getMonth() + 2, 1)).getTime() - (24 * 60 * 60 * 1000);	
				break;
			case 102:
				var date = new Date(currDate);
				start = date.getTime();
				end = (new Date(date.getFullYear(), date.getMonth() + 3, 1)).getTime() - (24 * 60 * 60 * 1000);	
				break;				
			case 100:
				start = 0;
				end = 0;	
				break;																
		}
	}		
	if (end < start) {
		$('input#dstart').addClass('error_box');
		$('input#dend').addClass('error_box');
		$('#period_err').html('Tgl. Awal lebih besar dari Tgl. Akhir');
		return false;
	}
	$('input#dstart').val(convertJtimestampToShortDate(start));
	$('input#dend').val(convertJtimestampToShortDate(end));	
	M_start = start;
	M_end = end;
	//alert('start=' + start + '&end=' + end);
	return 'start=' + start + '&end=' + end;
}

$(function () {
	setupDateTimePicker();
});

function setupDateTimePicker() {
	try {
		var today = new Date(); 
		$('#datetimepickerS').datetimepicker( {
			format: 'DD/MM/YYYY',
			locale: $('html').attr('lang'),
		});
		$('#datetimepickerE').datetimepicker( {
			format: 'DD/MM/YYYY',
			locale: $('html').attr('lang'),
		});	
	} catch (e) {
		printLog('No datetimepicker js included');
		printLog(e);
	}	
}
</script><script>
$(document).ready(function() {
	M_ppId = 30373;

	populateMenu();
	setupControl(true);

	if ($('body').width() <= SMD_WIDTH) {
		M_currModule = 'PRC_CALENDAR';
		$('body').css('padding-top', '0px');
		$('.menu_row').find('.right').addClass('center').removeClass('right');
		$('i#task_list').css('margin-left', '-15px');
		$('i#task_list').css('margin-right', '0px');
		resetLogoDisplay();	
		if ($('body').width() <= XXS_WIDTH) {	
			if ($('body').width() > XXS_WIDTH) {
				$('input#book_only').parent().css('position', 'absolute');
				$('input#book_only').parent().css('right', '25px');
			} else $('input#book_only').parent().css('margin-right', 0);
		}
		$('.logged-in-practice').addClass('right');
		$('.logged-in-practice').find('.dropdown-menu').css('left', $('.logged-in-practice').position().left + 50);
		
		$('#xs_menu').parent().append($('.logged-in-practice').remove());
		$('#xs_top_menu').css('right', 0);
		$('ul#top_menu').css('right', 0);
		printLog($('#xs_menu'));
	} else {
		/**$('ul#nav-tabs').sortable({
	        revert: true,
	        containment: $('nav#main_nav'),
	        /*update: function (event, ui) {
	            // Some code to prevent duplicates
	        }
	    });	
	    **/	
	}
});

var M_menuList = '';
var maxH = 1200;
function populateMenu() {
	M_menuList = ''
		+ '<li id="menu_dasboard" class="module" data-tabid="dashboard" data-frame="dashboard" data-ico="fa-tachometer" data-title="Dasbor" data-src="https://klinikmochil.lokadok.co.id/practice/dashboard/30373"><i class="control fa fa-tachometer"></i></li>'
				+ '<li id="menu_cal" class="module" data-tabid="calendar" data-frame="calendar" data-ico="fa-calendar" data-title="Kalender" data-src="https://klinikmochil.lokadok.co.id/practice/calendar/30373"><i class="control fa fa-calendar"></i></li>'
		+ '<li id="menu_book" class="module" data-maxh="' + maxH + '" data-tabid="PRC_BOOK_LIST" data-frame="book" data-ico="fa-calendar-check-o" data-title="Konfirmasi Jadwal" data-src="https://klinikmochil.lokadok.co.id/practice/booking_page/30373"><i class="control fa fa-calendar-check-o"></i></li>'
									+ '<li id="menu_queue" class="module" data-tabid="PRC_QUEUE_LIST" data-frame="queue" data-ico="fa-list-ol" data-title="Daftar Antrian" data-src="https://klinikmochil.lokadok.co.id/practice/queue_list/30373"><i class="control fa fa-list-ol"></i></li>'
																+ '<li id="menu_trx" class="module" data-maxh="' + maxH + '" data-tabid="PRC_SALES" data-submenu="SENC|SLAB" data-frame="trx" data-ico="fa-credit-card" data-title="Transaksi / Penjualan" data-src="https://klinikmochil.lokadok.co.id/practice/transaction/30373"><i class="control fa fa-credit-card"></i></li>'
											
									
					
							+ '<li id="menu_patient" class="module" data-maxh="' + maxH + '" data-tabid="PRC_PATIENT" data-frame="patientList" data-ico="fa-male" data-title="Pasien" data-src="https://klinikmochil.lokadok.co.id/practice/patient_list/30373"><i class="control fa fa-male"></i></li>'
						
	
					+ '<li id="menu_voucher" class="module" data-maxh="' + maxH + '" data-tabid="PRC_VOUCHER" data-frame="voucher" data-ico="fa-gift" data-title="Paket Perawatan" data-src="https://klinikmochil.lokadok.co.id/practice/voucher_tab/30373"><i class="control fa fa-gift"></i></span>'
																
				
				;

	$('ul#lg_menu').append(
		M_menuList
	);
	$('.control').each(function() {
		$(this).parent().tooltip({title: $(this).parent().data('title'), html: true, placement: "bottom"});
	});

	try {
		setupMenuAlertFunction();
	} catch (e) {
		printLog(e);
	}
}

var xsMenuLoad = false;
$('#xs_menu, #xs_menu > i.control').click(function() {
	if ($('body').width() <= SMD_WIDTH) {
		if (xsMenuLoad) {
			return false;
		}
		xsMenuLoad = true;
		$('#xs_menu > i.control').popover({
		    delay: {
		        show: 500,
		        hide: 2000
		    },
		    placement: 'left',
		    container: "body",
		    html: true,
		    content:
		    	'<ul id="menu_list" style="center;list-style: none;">\n' +
		    	(M_currModule == DOC_CAL ?
				//'<span id="xsmenu_wiz"><i class="control fa fa-magic" title="Buat Slot Otomatis"></i></span>\n' + 
				//'<span id="xsmenu_slot"><i class="control ' + (M_currModule == SCHEDULE_MGR ? ' active' : '') + ' fa fa-clock-o" title="Pengaturan Slot Waktu"></i></span>\n' + 
				'<li id="xsmenu_cal"><i class="control ' + (M_currModule == DOC_CAL ? ' active' : '') + ' fa fa-calendar" title="Kalender"></i></li>\n' + 
				'<li id="xsmenu_onleave"><i class="control fa fa-suitcase" title="Pengaturan Cuti"></i></li>\n' +
				'<li id="xsmenu_report"><i class="control ' + (M_currModule == ANALYTICS ? ' active' : '') + ' fa fa-bar-chart" title="Laporan"></i></li>\n' 
				//'<span id="xs_tutorial"><i class="control fa fa-question" title="Tutorial"></i></span>\n' +
				:
					M_menuList
				)
				+ '</ul>',
		}).popover('show', function(){
			$(this).fadeIn('slow');
		});
		
		setTimeout(function() {
			$('.popover').css('width', '200px');
			$('.popover').css('left', (parent.document.body.clientWidth - 200) + 'px');
			$('.popover').find('div.arrow').remove();
			$('ul#menu_list').find('li').find('div.control').css('display', 'inline');
			$('ul#menu_list').find('li').each(function() {
				$(this).append(' &nbsp;<span class="control_title hidden-lg hidden-md clickable">' + $(this).data('title') + '</span>');
			});
			$('span.control_title').click(function() {
				$(this).parent().find('i.control').trigger('click');
			});
			xsMenuLoad = false;
		}, 100);
		var left = $('#xs_menu').position().left - ($('body').width()/640 * 75);
		
		$('#' + $('#xs_menu').next().attr('id')).css('left', left);
		$('#' + $('#xs_menu').next().attr('id')).addClass('popover-menu');
		setupControl();

		$('body').on('click', function (e) {
		    //did not click a popover toggle or popover
		    if ($(e.target).data('toggle') !== 'popover'
		        && $(e.target).parents('.popover.in').length === 0) { 
		    	$("[data-toggle='popover']").popover('destroy');
		    }
		});		
	}	
});

function setupControl(triggerClick) {
	$('.control').click(function() {
		if (M_ppId > 0) {
						try {
				if (!checkProgressTab($(this))) {
					return false;
				}
				
				if ($(this).parent().data('tabid') == undefined) {
					return false;
				}
				
				if ($('div#' + $(this).parent().data('tabid')).length == 0) {				
					var style = $(this).parent().data('maxh') != undefined ? 'max-height: ' + $(this).parent().data('maxh') + 'px' : ''; 
					if ($('ul#nav-tabs > li > a[href="#' + $(this).parent().data('tabid') + '"]').length == 0) {
						$('ul#nav-tabs').append('<li><a href="#' + $(this).parent().data('tabid') + '" data-toggle="tab"><i class="fa ' + $(this).parent().data('ico') + '"></i> <span class="hidden-xs hidden-sm">' + $(this).parent().data('title') + '</span></a><i class="close_tab fa fa-times" data-refresh="0"></i></li>');
						$('ul#nav-tabs').find('li:last').find('a').outerWidth($('ul#nav-tabs').find('li:last').outerWidth() + 2);
					}
					$('.tab-content').append(
							'<div id="' + $(this).parent().data('tabid') + '" class="tab-pane">' +
							'<iframe style="' + style + '" id="' + $(this).parent().data('frame') + 'Frame" name="' + $(this).parent().data('tabid') + 'Frame" src="' + $(this).parent().data('src') + '" width="100%" scrolling="no" seamless="seamless" frameBorder="0" onload="resizeIframe(this, 0)"></iframe>' +
							'</div>');
					M_inProgress = true;
					M_currModule = $(this).parent().data('tabid');					
				} else {
					$('ul#nav-tabs > li > a[href="#' + $(this).parent().data('tabid') + '"]').parent().show();
					M_currModule = $(this).parent().data('tabid');
					if ($(this).parent().data('tabid') == 'calendar') {
						setTimeout(() => {
							setupCalendarModule();
						}, 50);
						M_currModule = PRC_CAL;
					} else $('div#calendar').removeAttr('style'); // make sure tab is not appear front as display:block
				}
				fixMenuTab();
				activateTab('#' + $(this).parent().data('tabid'));
				setTimeout(function() {
					setupToggleTab();
					setupSortableTab();
				}, 500);
				setupCloseTab();
			} catch (e) {
				printLog(e);
			}
					} else {
			if ($(this).hasClass('fa-suitcase'))
				openOnleaveListDialog();
			else if ($(this).closest('span').attr('id') === 'menu_report') {
				window.location.href = $('#base_url').attr('value') + 'doctor_page/analytics';	
			} else if ($(this).hasClass('fa-question'))
				$.powerTour('run', 1);
		}
		if ($(this).closest('.popover').length > 0)
			$("[data-toggle='popover']").popover('destroy');
	});
	/**
	if (triggerClick) { // trigger first menu (for the first time)
		$('ul.all_menu .control:first').trigger('click');
		$('ul#nav-tabs i.close_tab:first').remove(); // remove close-tab to prevent user from closing first tab
	}
	**/
}

function callbackInitTabClick() {
	$('ul#nav-tabs').sortable('destroy');
}

function setupSortableTab() {
	$('ul#nav-tabs > li').mouseenter(function() {
		$('ul#nav-tabs').sortable({
	        revert: true,
	        containment: $('nav#main_nav'),
	        /*update: function (event, ui) {
	            // Some code to prevent duplicates
	        }*/
	    });
	}).mouseleave(function() {
		$('ul#nav-tabs').sortable('destroy');
	});	
}

function resetLogoDisplay() {
	if ($('body').width() <= XXS_WIDTH) {
		$('.menu_row').find('.app_logo').css('left', '-35px');
		$('.menu_row').find('.app_logo').attr('src', 'https://klinikmochil.lokadok.co.id/assets/images/omnicare_logo_new.png?v=1547375175');			
	} else {
		$('.menu_row').find('.app_logo').css('left', '-10%');
		$('.menu_row').find('.app_logo').attr('src', 'https://klinikmochil.lokadok.co.id/assets/images/omnicare_logo_new.png?v=1547375175');		
	}	
}
$(window).on('resize', function() {
	resetLogoDisplay();	
});

////////////////// BEGIN OF NAVIGATION TAB CONTROL ///////////////////////

$('i.hide_tab').click(function() {
	$('div' + $(this).closest('li').find('a').attr('href')).hide();
	$(this).closest('li').hide();
	$('ul#nav-tabs').find('li:visible:first').find('a').trigger('click');
});

var accelL = 0;
var accelR = 0;
$('div#row_navi > span.navi > i').click(function() {
	var totalLi = getOpenTabsWidth();
	if (totalLi < $('div#row_navi').outerWidth()) {
		$('ul#nav-tabs').animate({'left': 0 + 'px'}, 50, function() {
		});			
		return false;
	}
	
	var currentPos = $('ul#nav-tabs').position().left;
	if ($(this).hasClass('pull-right') && totalLi + currentPos + 50 < $('div#row_navi').outerWidth()) {				
		return false;
	}
		
	var diff = 0;
	printLog(currentPos);
	if ($(this).hasClass('pull-right')) {
		printLog('right');
		diff = -35 + accelR;
	} else {
		diff = 10 + accelL;
		printLog('left');
		
	}
	printLog('DIFF: ' + diff);
	currentPos += diff;
	if (currentPos > 0) {
		currentPos = 0;
	}	
	$('ul#nav-tabs').animate({'left': currentPos + 'px'}, 50, function() {
	});		
});

var interval;
var cycle = 1;
$('div#row_navi > span.navi > i').on('mousedown',function(e) {
 	printLog('mousedown');
	var elem = $(this);
    interval = setInterval(function() {
        elem.trigger('click');
        accelL += 10 * cycle;
        accelR -= 10 * cycle;
        cycle++;
        printLog('Accel L: ' + accelL);
        printLog('Accel R: ' + accelR);
    }, 100); // 50ms between each frame
});
$('div#row_navi > span.navi > i').on('mouseup',function(e) {
    accelL = 0;
    accelR = 0;
    cycle = 1;	
    clearInterval(interval);
});

// Thank you, Timo002, for your contribution!
// This code will stop the interval if you move your mouse away from the button while still holding it.
$('div#row_navi > span.navi > i').on('mouseout',function(e) {
    accelL = 0;
    accelR = 0;
    cycle = 1;	
    clearInterval(interval);   
});

function getOpenTabsWidth() {
	var totalLi = 0;
	
	$('ul#nav-tabs').find('li').each(function() {
		totalLi += $(this).outerWidth();
	});	
	return totalLi;
}

function setupTabDraggable(elemTab) {
	elemTab.draggable({
		opacity: 0.80,
		containment: $('ul#nav-tabs'),	
		stop: function(){

		},
		start:function() {
			$(this).find('a').outerWidth($(this).outerWidth() + 2);
		},
		drag: function(){
					
        }
	});
}

function callbackMainTab(activeTab) {
	printLog('callbackMainTab: ');
	printLog(activeTab);

	var currentPos = $('ul#nav-tabs').position().left;
	if (activeTab.offset().left < 0) {
		$('ul#nav-tabs').animate({'left': (currentPos - activeTab.offset().left) + 'px'}, 50, function() {
		});
	} else if (activeTab.offset().left > $('div#row_navi').outerWidth() - 100) {
		$('ul#nav-tabs').animate({'left': (currentPos - (activeTab.offset().left - $('div#row_navi').outerWidth()) - activeTab.outerWidth() - 100) + 'px'}, 50, function() {
		});		
	}
}
////////////////// END OF NAVIGATION TAB CONTROL ///////////////////////

/*****
 * This script is for auto hiding on header (top navigation)
 */
// Hide Header on on scroll down
var E_parentScroll_in;
var E_lastParentScrollTop = 0;
var E_delta = 5;

$(window).scroll(function(event){
	E_parentScroll_in = true;
});

setInterval(function() {
	if (E_parentScroll_in) {
		printLog('Parent scroll');
		$('nav#main_nav').find('li').each(function() {
			try {
				var iframe = $('div' + $(this).find('a').attr('href')).find('iframe');
				iframe[0].contentWindow.encParentHasScrolled($(window).scrollTop());
			} catch (e) {
				printLog(e);
				printLog($(this).find('a').attr('href') + ' has no parentScroll');
			}
		});
		E_parentScroll_in = false;
	}	
}, 250);
</script> <div class="row task_bar">
<div class="task_section">
<span><i class="fa fa-tasks" aria-hidden="true"></i> &nbsp;TUGAS</span>
</div>
<div class="task_body">
<header class="tasks-header">
<h3 class="tasks-title">Daftar Tugas</h3>
<a class="add_task" title="Tambah Tugas"><i class="fa fa-lg fa-plus-square"></i></a>
<a class="show_task" data-type="0">Semua</a>
</header>
<fieldset class="tasks-list">
</fieldset>
</div>
<div style="position: absolute; top: 7px; font-size: 12px;"><i id="set_sound" class="fa fa-volume-down"></i></div>
<div style="position: absolute; right: 110px; top: 7px;font-size: 12px;"><i id="screen_size" class="fa fa-tablet"></i> <span id="screen_size"></span></div>
<div style="position: absolute; right: 20px; top: 9px;font-size: 12px;">omnicare11</div>
</div>
</div>
<script>
var firstTaskList = false;
var taskWorker = null;
$(document).ready(function() {
	M_ppId = 30373;
	updateSoundVol();
	getWebsocketTokenForQueue(30373);
	getTaskList(false);

	taskWorker = setInterval(function() {
		if (!webSocket.isConnected()) {
    		getTaskList(false);
		}
    }, G_intervalRequest);
    $('span#screen_size').html($(window).width() + 'x' + $(window).height() + 'px');
    setTimeout(() => {
		if ($('div#arrowchat_base').length > 0) {
			$('div#arrowchat_base').prepend($('div.task_bar').remove());
			$('div.task_bar').outerWidth($('body').outerWidth());
		}
		setupTaskBar();
	}, 500);
});


var COMPLETE = 1;
var INCOMPLETE = 0;
var ALL = -1;
var taskDialog = null;
function getTaskList(show) {
	var now = (new Date()).getTime();
	var link = $('#base_url').attr('value') + 'ajax_query/query_bg_task_list/' + M_ppId + '/' + $('.show_task').data('type');
	printLog(link);
    $.ajax({
        url: link,
        dataType: 'json',
        success: function(tasks) {
            printLog(tasks);
            if (tasks == EXIT_UNKNOWN_CLASS) {
				 if (taskWorker != null)
					 clearInterval(taskWorker);
				 return false;
            } else if (tasks != EXIT_DATABASE) {
                var taskList = '';
                $.each(tasks, function(key, task) {
                    if (task['menu_scope'] == null || $('ul#lg_menu').find('li[data-tabid="' + task['menu_scope'] + '"]').length > 0) {
	                	taskList +=
	                    	'<label class="tasks-list-item" data-title="' + task['title'] + '" data-timestamp="' + task['timestamp'] + '" data-reminder="' + task['reminder'] + '" data-calid="' + task['cal_id'] + '" data-doc_id="' + task['doctor_id'] + '" data-rdpp="' + task['rdpp'] + '" data-stime="' + task['start_time'] + '" data-patient="' + task['patient_id'] + '" data-notes="' + task['notes'] + '" data-link="' + task['link'] + '" data-link_type="' + task['link_type'] + '" data-popup_h="' + task['popup_h'] + '" data-popup_w="' + task['popup_w'] + '" title="' + task['title'] + ':\n' + task['notes'] + '" data-user="' + task['username'] + '" data-created_uname="' + task['created_uname'] + '" data-created_by="' + task['created_by'] + '" data-created_timestamp="' + task['created_timestamp'] + '" data-menu_scope="' + task['menu_scope'] + '">' + 
				        		'<input value="' + key + '" class="tasks-list-cb" type="checkbox"' + (task['completed'] == COMPLETE ? ' checked' : '') + '>' + 
				        		'<span class="tasks-list-mark"></span>' +
				        		'<span class="tasks-list-desc">' + (parseInt(task['priority']) == PRIORITY_URGENT ? '<i class="task_urgent fa fa-lg fa-exclamation"></i> ' : '') + task['title'].substring(0, 40) + (task['link'] != null && task['link'].length > 0 ? formatTaskLinkObject(task) : '') +
				        			(task['created_by'] == 9202 ?
						        	' <i class="edit_task fa fa-pencil-square" title="Ubah Tugas"></i>' : '') +
				        		'<span class="pull-right">' +
					        		(parseInt(task['reminder']) >= 0 ? '<i class="task_alarm fa fa-lg fa-bell"></i>' : '') +
					        		(task['cal_id'] != null ? '<i class="task_cal fa fa-lg fa-calendar"></i>' : '') +
				        		'</span></span>' + 
				        		'<p><span class="task_date' + (parseInt(task['timestamp']) < now ? ' pass' : '') + '">' + convertJtimestampToShortDate(task['timestamp']) + '</span>' +
								'<span class="task_creator pull-right">' + task['username'] + (task['done_uname'] != null ? ', ' + task['done_uname'] : '') + '</span>' +
								'</p>' +
				    	  	'</label>';
                    }
                });
                $('.task_body > .tasks-list').empty();
                $('.task_body > .tasks-list').append(taskList);
                
                setupTaskCheck();
                $('i.task_cal').unbind('click');
                $('i.task_cal').click(function(e) {
                    e.preventDefault();
                    $(this).addClass('spinner fa-spinner fa-spin').removeClass('fa-calendar');
                    M_processAlert = true;
                    M_fromSearch = true;
                    M_docId = $(this).closest('label.tasks-list-item').data('doc_id');
                    M_alertCalId = $(this).closest('label.tasks-list-item').data('calid');
                    M_alertRdpp = $(this).closest('label.tasks-list-item').data('rdpp');
                    M_alertTime = $(this).closest('label.tasks-list-item').data('stime');
                    M_alertPatient = $(this).closest('label.tasks-list-item').data('patient');
                    var event = findCalWith(M_alertCalId, M_alertRdpp, M_alertTime, M_alertPatient);
                    if (event == undefined || event.length == 0)
						actionOnCalDayClick(M_alertCalId);
                    else getSlotContent(event, M_alertCalId, M_alertRdpp, M_alertTime, M_alertPatient);
                });
                $('i.edit_task').unbind('click');
                $('i.edit_task').click(function(e) {
                    e.preventDefault();
                    var link = $('#base_url').attr('value') + 'common_omnicare/task_editor/' + M_ppId + '/' + $(this).closest('label.tasks-list-item').find('input.tasks-list-cb').val();
                	openCustomDialog(link, 600, 550, true, 'taskFrame');                    
                });
                setupOpenTaskLinkPopup();                   
            } else {
                $('.task_body > .tasks-list').empty();
                $('.task_body > .tasks-list').append(
                    '<label class="tasks-list-item" style="text-align: center">' + 
		        		'<span class="tasks-list-desc"><i>Data Kosong</i></span>' +
		    	  	'</label>');
            }
        }, complete: function() {
            if (show) {
            	setTimeout(() => {
            		resetTaskBodyHeight();
            		$('.task_body').slideDown('200', function() {
            			resetTaskBodyHeight();
                		$('.task_section').addClass('active');
                		$('.task_section').find('i.fa-cog').remove();
            		});					
				}, 500);
            }

            var unfupTask = '';
            var i = 0;
            $('label.tasks-list-item').each(function() {
                if (firstTaskList) {
                	if ($(this).find('input.tasks-list-cb').length > 0 &&
                        !$(this).find('input.tasks-list-cb').is(':checked') && parseInt($(this).data('timestamp')) <= now) {
                        var row = i++ % 2 == 0 ? 'row_even' : 'row_odd';
                        var link = formatTaskLink($(this));
                		unfupTask += '<div class="row ' + row + '"><div class="col-md-6" style="padding-top: 3px"><strong>' + $(this).data('title') + link + '</strong></div>' +
                					'<div class="col-md-5" style="color: red; padding-top: 3px">' + convertJtimestampToCompleteDate($(this).data('timestamp')) + ' (' + (calculateDayString(new Date($(this).data('timestamp')), new Date(now))) + ' lalu) </div>' + 
                					'<div class="col-md-1">' + 
        			        		'<label class="tasks-list-item"><input value="' + $(this).find('input.tasks-list-cb').val() + '" class="tasks-list-cb" type="checkbox">' + 
        			        		'<span class="tasks-list-mark"></span></label>' +
        			        		'</div></div>';              					
                	}               	
                } 
                var setoff = parseInt($(this).data('timestamp')) - (parseInt($(this).data('reminder')) * 60 * 1000);
                printLog('>>>>>' + setoff + ';' + now + '<<<<<');
                // reminder must be >= 0 (set on to set off). -1 means no alarm is set   
                if (!$(this).find('input.tasks-list-cb').is(':checked') && $(this).data('reminder') >= 0 && setoff <= now + (120 * 1000) && setoff >= now - (120 * 1000)) {
                    var elem = $(this);
                    var link = formatTaskLink($(this));
					var message = '<p style="font-size: 18px; font-weight: 500;">' + $(this).data('title') + '</p>' +
								($(this).data('notes') != null && $(this).data('notes') != '' ? '<p class="msg_box"><span class="small_note">' + $(this).data('notes') + link + '</span></p>' : '') +
								'<p class="pull-right small_note" style="margin-bottom: 0px"><i class="fa fa-user"></i> ' + $(this).data('user') + '</p>';
								
	   		    	taskDialog = new BootstrapDialog({
	 				    type: BootstrapDialog.TYPE_WARNING,
	 				    size: BootstrapDialog.SIZE_SMALL,
	 			        title: '<span class="dialog_label"><i class="fa fa-bell"></i> Alarm</span>',
	 				    message: '<div class="row">' + message + '</div>',
	 				    closable: false,
	 				    buttons: [{
	 				        label: $('html').attr('lang') == LANG_EN ? 'MARK DONE' : 'TANDAI SELESAI',
	 				        cssClass: 'btn-warning',
	 				        action: function(dialogItself){
	 				        	elem.trigger('click');
	 				        	stopAlarm();
	 				        	dialogItself.close();
	 				        }
	 				    }, {
	 				        label: $('html').attr('lang') == LANG_EN ? 'Close' : 'Tutup',
	 				        action: function(dialogItself){
	 				        	stopAlarm();	 				        
	 				            dialogItself.close();
	 				        }
	 				    }]
	 				});
	   		    	taskDialog.realize();
	   		    	taskDialog.open();

	 		        setTimeout(function() {
	 		        	setupOpenTaskLinkPopup();
	 		        }, 500);
	 		        ringAlarm();
	 		        setTimeout(function() {
		 		        try {
	 		        		audio['task'].pause();
				        	audio['task'].currentTime = 0;
		 		        } catch (e) {}
	 		        }, 2 * 60 * 1000);                 
                }
            });

            if (firstTaskList && unfupTask != '') {
		    	var dialog = new BootstrapDialog({
 				    type: BootstrapDialog.TYPE_SUCCESS,
 			        title: '<span class="dialog_label"><i class="fa fa-tasks"></i> TUGAS TERTUNDA</span>',
 				    message: '<div class="row"><div class="col-md-12" style="margin-bottom: 15px; font-size: 15px; font-weight: 500">Mungkin Anda terlewat untuk melakukan tugas-tugas berikut:</div></div>' + 
 				    		 '<div style="padding: 0 5px;margin: 0 20px;">' +
							'<div class="row" style="background-color: #F0F0F0; line-height: 30px; text-align: center;"><div class="col-md-6"><strong>TUGAS</strong></div>' +
                			'<div class="col-md-5"><strong>TERLAMBAT</strong></div>' + 
                			'<div class="col-md-1"></div></div>' +  				    		 
 				    		unfupTask + '</div>' +
 				    		'<div class="row"><div class="small_note col-md-12"><i class="fa fa-info-circle fa-lg"></i> &nbsp; Centang tugas-tugas yang telah dikerjakan</div></div>',
 				    buttons: [{
 				        label: 'Tutup',
 				        cssClass: 'btn-success',
 				        action: function(dialogItself){
 				        	dialogItself.close();
 				        }
 				    }]
 				});
 		 		dialog.realize();
 		        dialog.open();

 		        setTimeout(function() {
 		        	setupOpenTaskLinkPopup();
 		        }, 500); 		        
 		        setTimeout(function() {
 		        	setupTaskCheck();
 		        }, 200);
            	firstTaskList = false;
            }
        }
    });
}

function setupTaskCheck() {
	$('label.tasks-list-item').unbind('click');
	$('label.tasks-list-item').click(function() {
		var elem = $(this);
		setTimeout(function() {
			var checked = elem.find('input.tasks-list-cb').is(':checked') ? 1 : 0;
			var taskId  = elem.find('input.tasks-list-cb').val();
			
			var link = $('#base_url').attr('value') + 'ajax_handler/update_task_list/' + taskId + '/' + M_ppId + '/' + checked;
			printLog(link);
		    $.ajax({
		        url: link,
		        dataType: 'json',
		        success: function(result) {
		            printLog(result);
		        }
		    });			
		}, 200);
	});	
}

function resetTaskBodyHeight() {
	var newH = $('.task_body').find('fieldset').outerHeight() + $('div.tasks-header').outerHeight() + 20;
	$('.task_body').css('height', newH > 40 ? newH : 40);
}

function setupTaskBar() {
	$('.task_section').click(function() {
		if (!$('.task_body').is(':visible')) {
			$(this).append('<i class="fa fa-cog fa-spin fa-fw" style="color: #2894ff; margin-left: -5px;"></i>');
			getTaskList(true);
		} else {
			resetTaskBodyHeight();
			$('.task_body').slideUp('500', function() {
				$('.task_section').removeClass('active');
			});
		}
	});
		
	$('.show_task').click(function() {
		if ($('.show_task').data('type') == INCOMPLETE) {
			$('.show_task').data('type', ALL);
			$('.show_task').html('Belum selesai');
		} else {
			$('.show_task').data('type', INCOMPLETE);
			$('.show_task').html('Semua');		
		}
		getTaskList(false);
	});
	
	$('.add_task').click(function() {
		var link = $('#base_url').attr('value') + 'common_omnicare/task_editor/' + M_ppId;
		openCustomDialog(link, 600, 550, true);
	});

	$('i#set_sound').parent().css('left', $('div.task_section').position().left + $('div.task_section').outerWidth() + 10);
	$('i#set_sound').click(function() {
		setSound();
	});
}


function formatTaskLink(task) {
    var link = (task.data('link') != '' ? '<br>' + '<a href="' + task.data('link') + '" target="_blank">Klik tautan ini</a>' : '');
    if (task.data('link_type') == 'P') {
        var w = task.data('popup_w') > 0 ? task.data('popup_w') : parent.document.body.clientWidth - 10;
        var h = task.data('popup_h') > 0 ? task.data('popup_h') : parent.document.body.clientHeight - 10;
        link = ' <a class="open_popup clickable" data-link="' + task.data('link') + '" data-width="' + w + '" data-height="' + h + '">Klik tautan ini</a>';
    }
    return link;
}

function formatTaskLinkObject(task) {
    var link = (task['link'] != '' ? '<br>' + '<a href="' + task['link'] + '" target="_blank">Klik tautan ini</a>' : '');
    if (task['link_type'] == 'P') {
        var w = task['popup_w'] > 0 ? task['popup_w'] : parent.document.body.clientWidth - 10;
        var h = task['popup_h'] > 0 ? task['popup_h'] : parent.document.body.clientHeight - 10;
        link = ' <a class="open_popup clickable" data-link="' + task['link'] + '" data-width="' + w + '" data-height="' + h + '"><i class="fa fa-external-link-square"></i></a>';
    }
    return link;
}

function setupOpenTaskLinkPopup() {
	$('a.open_popup').unbind('click');
    $('a.open_popup').click(function() {
    	window.parent.parent.openCustomDialog($(this).data('link'), $(this).data('width'), $(this).data('height'), true);
    	taskDialog.getModalDialog().find('.modal-footer').find('button:first').trigger('click');
    	taskDialog.close();
    	stopAlarm();
	});	
}

function updateSoundVol() {
	M_reloadUserConfig = false;
	if ($('i#set_sound').hasClass('fa-volume-up')) {
		M_volumeBell = 0.8;
	} else if ($('i#set_sound').hasClass('fa-volume-down')) {
		M_volumeBell = 0.1;
	} else if ($('i#set_sound').hasClass('fa-volume-off')) {
		M_volumeBell = 0;
	}	
}

function setSound() {
	M_reloadUserConfig = false;
	if ($('i#set_sound').hasClass('fa-volume-up')) {
		$('i#set_sound').removeClass('fa-volume-up').addClass('fa-volume-down');
		M_volumeBell = 0.1;
		updateConfig('set_volume', 'down');
	} else if ($('i#set_sound').hasClass('fa-volume-down')) {
		$('i#set_sound').removeClass('fa-volume-down').addClass('fa-volume-off');
		M_volumeBell = 0;
		updateConfig('set_volume', 'off');
	} else if ($('i#set_sound').hasClass('fa-volume-off')) {
		$('i#set_sound').removeClass('fa-volume-off').addClass('fa-volume-up');
		M_volumeBell = 0.8;
		updateConfig('set_volume', 'up');
	}	
}

var webSocket = $.simpleWebSocket({ url: 'wss://websocket1.lokadok.co.id:3443/?pp_id=30373' });

setInterval(() => {
	checkWsocketConnection(webSocket);
}, G_intervalWsocket);

webSocket.listen(function(message) {
	var realMsg = base64Decode(message.text);
    printLog('listen '+realMsg);
    var msgTokens = realMsg.split("|");
    if (msgTokens[0] == G_webSocketTokenQ && msgTokens[1] == M_ppId && msgTokens[2] == WS_CATEGORY_TASK) {
        if (msgTokens[3] == WS_ACTION_REFRESH) {
        	getTaskList(false);
        }
    }  
});
</script><script src="https://klinikmochil.lokadok.co.id/assets/js/custom/common_misc.js?v=1691396987" type="text/javascript" charset="utf-8"></script>
<script src="https://klinikmochil.lokadok.co.id/assets/js/custom/practice/user_config.js?v=1675866489" type="text/javascript" charset="utf-8"></script>
<script src="https://klinikmochil.lokadok.co.id/assets/js/custom/practice/common_practice.js?v=1683350541" type="text/javascript" charset="utf-8"></script>
<script src="https://klinikmochil.lokadok.co.id/assets/js/bootstrap/bootstrap.min.js?v=1605716361" type="text/javascript" charset="utf-8"></script>
<script src="https://klinikmochil.lokadok.co.id/assets/js/bootstrap/bootstrap-dialog.js?v=1605716361" type="text/javascript" charset="utf-8"></script>
<script src="https://klinikmochil.lokadok.co.id/assets/js/bootstrap/moment-with-locales.js?v=1605716362" type="text/javascript" charset="utf-8"></script>
<script src="https://klinikmochil.lokadok.co.id/assets/js/bootstrap/bootstrap-datetimepicker.min.js?v=1605716361" type="text/javascript" charset="utf-8"></script>
<script src="https://klinikmochil.lokadok.co.id/assets/js/timepicker/jquery.timepicker.js?v=1587835371" type="text/javascript" charset="utf-8"></script>
<script src="https://klinikmochil.lokadok.co.id/assets/js/touchpunch/jquery.ui.touch-punch.js?v=1587835373" type="text/javascript" charset="utf-8"></script>
<script src="https://klinikmochil.lokadok.co.id/assets/js/custom/doc_calendar.js?v=1691305923" type="text/javascript" charset="utf-8"></script>
<script src="https://klinikmochil.lokadok.co.id/assets/js/custom/schedule_manager.js?v=1675004417" type="text/javascript" charset="utf-8"></script>
<script src="https://klinikmochil.lokadok.co.id/assets/js/custom/practice/schedule_manager.js?v=1666661726" type="text/javascript" charset="utf-8"></script>
<script src="https://klinikmochil.lokadok.co.id/assets/js/custom/practice/practice_calendar.js?v=1690365094" type="text/javascript" charset="utf-8"></script>
<script src="https://klinikmochil.lokadok.co.id/assets/js/custom/common_schedule.js?v=1690378534" type="text/javascript" charset="utf-8"></script>
<script src="https://klinikmochil.lokadok.co.id/assets/js/chosen.jquery.js?v=1675866595" type="text/javascript" charset="utf-8"></script>
<script src="https://klinikmochil.lokadok.co.id/assets/arrowchat/external.php?type=djs&v=202308061413" type="text/javascript" charset="utf-8"></script>
<script src="https://klinikmochil.lokadok.co.id/assets/arrowchat/external.php?type=js&v=202308061413" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript">
$(document).ready(function() {
	if ($('body').width() <= SM_WIDTH) {
		$('ul#top_menu').clone(true, true).prependTo('#xs_top_menu');
		$('#xs_top_menu').find('ul#top_menu').css('left', '-150px');
	}
	printLog(''); 
});
</script>
<script defer src="https://static.cloudflareinsights.com/beacon.min.js/v8b253dfea2ab4077af8c6f58422dfbfd1689876627854" integrity="sha512-bjgnUKX4azu3dLTVtie9u6TKqgx29RBwfj3QXYt5EKfWM/9hPSAI/4qcV5NACjwAo8UtTeWefx6Zq5PHcMm7Tg==" data-cf-beacon='{"rayId":"7f3747ab7ed24053","token":"2db3fc86d126424486171e692a7dccfa","version":"2023.7.0","si":100}' crossorigin="anonymous"></script>
</body>
</html>